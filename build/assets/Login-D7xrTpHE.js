import{k as y,r as i,j as s,N as I,L as w}from"./index-4WgTBl-l.js";import{c as S,a as v,b as L}from"./auth-DAOsVcov.js";import{b as k,a as n,c as h}from"./index.esm-CdVIU4p-.js";import{C as l,a as r}from"./CRow-CegcB6TX.js";import{C as E}from"./CCardGroup-CsGxLhkA.js";import{C as G,a as F}from"./CCardBody-BOTH1aaN.js";import{C as P}from"./CForm-BNK280YJ.js";import{C as p,a as u}from"./CInputGroupText-De6l6Gjk.js";import{c as R}from"./cil-user-Ddrdy7PS.js";import{C as g}from"./CFormInput-DcXD1ixu.js";import"./CFormControlWrapper-D2FNqYS1.js";import"./CFormControlValidation-9ONXiwLo.js";import"./CFormLabel-ms8vvlzO.js";const O=()=>{const{userLoggedIn:c}=y();console.log(c);const[d,j]=i.useState(""),[m,C]=i.useState(""),[a,o]=i.useState(!1),[f,x]=i.useState(""),N=async e=>{if(e.preventDefault(),!a){o(!0),x(null);try{const t=await v(d,m);console.log(c),console.log(t),o(!1)}catch(t){x(t.message),o(!1)}}},b=e=>{e.preventDefault(),a||(o(!0),L().catch(t=>{o(!1)}))};return s.jsxs("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:[c&&s.jsx(I,{to:"/dashboard",replace:!0}),s.jsx(k,{children:s.jsx(l,{className:"justify-content-center",children:s.jsx(r,{md:8,children:s.jsx(E,{children:s.jsx(G,{className:"p-4",children:s.jsx(F,{children:s.jsxs(P,{children:[s.jsx("h1",{children:s.jsxs(l,{children:[s.jsx(r,{xs:6,children:"Login"}),s.jsx(r,{xs:6,className:"text-right",children:s.jsx(w,{to:"/register",className:"text-right",children:s.jsx(n,{color:"primary",active:!0,tabIndex:-1,children:"Register Now!"})})})]})}),s.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),s.jsxs("div",{className:"mb-3",children:["Â ",f]}),s.jsxs(p,{className:"mb-3",children:[s.jsx(u,{children:s.jsx(h,{icon:R})}),s.jsx(g,{placeholder:"Email",onChange:e=>{j(e.target.value)},defaultValue:d,autoComplete:"email"})]}),s.jsxs(p,{className:"mb-4",children:[s.jsx(u,{children:s.jsx(h,{icon:S})}),s.jsx(g,{type:"password",placeholder:"Password",autoComplete:"current-password",defaultValue:m,onChange:e=>{C(e.target.value)}})]}),s.jsxs(l,{children:[s.jsx(r,{xs:6,children:s.jsx(n,{disabled:a,color:"primary",className:"px-4",onClick:e=>{N(e)},children:"Login"})}),s.jsx(r,{xs:6,className:"text-right",children:s.jsx(n,{disabled:a,color:"link",className:"px-0",children:"Forgot password?"})})]}),s.jsx(l,{className:"mt-3",children:s.jsx(r,{xs:12,children:s.jsx(n,{disabled:a,color:"primary",onClick:e=>{b(e)},children:"Login with Google"})})})]})})})})})})})]})};export{O as default};
