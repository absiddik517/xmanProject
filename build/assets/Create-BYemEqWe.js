import{l as p,r as u,k as v,j as e}from"./index-4WgTBl-l.js";import"./index-DTv8A9pA.js";import{c as g}from"./crud-B82QNuOT.js";import{C as b,a as y}from"./CCardBody-BOTH1aaN.js";import{C as F}from"./CCardHeader-frLQR2cS.js";import{C as D,a as t}from"./CRow-CegcB6TX.js";import{C as k}from"./CForm-BNK280YJ.js";import{C as d}from"./CFormLabel-ms8vvlzO.js";import{C as l}from"./CFormInput-DcXD1ixu.js";import{C as r}from"./CFormControlValidation-9ONXiwLo.js";import{a as S}from"./index.esm-CdVIU4p-.js";import"./CFormControlWrapper-D2FNqYS1.js";const H=()=>{const C=p(),[x,f]=u.useState(!1),[a,s]=u.useState(!1),{currentUser:n}=v();console.log(n);const h=async m=>{m.preventDefault();const c=m.currentTarget;if(c.checkValidity()===!1)f(!0);else{s(!0);const j=new FormData(c),i=Object.fromEntries(j.entries()),o=await g("deliveries",{uid:n.uid,earning:i.delivery*i.rate,...i});o.success?(console.log(o),s(!1),C("/items")):(s(!1),console.error(o))}};return e.jsx(e.Fragment,{children:e.jsxs(b,{className:"",children:[e.jsx(F,{children:"Create Page"}),e.jsx(y,{children:e.jsx(D,{children:e.jsxs(k,{className:"row g-3 needs-validation",noValidate:!0,validated:x,onSubmit:h,children:[e.jsxs(t,{md:4,children:[e.jsx(d,{htmlFor:"validationCustom01",children:"Delivery Count"}),e.jsx(l,{disabled:a,type:"number",name:"delivery",id:"validationCustom01",required:!0}),e.jsx(r,{valid:!0,children:"Looks good!"}),e.jsx(r,{invalid:!0,children:"Error occurs!"})]}),e.jsxs(t,{md:6,children:[e.jsx(d,{htmlFor:"validationCustom03",children:"Date"}),e.jsx(l,{name:"date",type:"date",id:"validationCustom03",disabled:a,defaultValue:new Date().toJSON().slice(0,10),required:!0}),e.jsx(r,{invalid:!0,children:"Please provide a valid date."}),e.jsx(r,{valid:!0,children:"Looks good!."})]}),e.jsxs(t,{md:6,children:[e.jsx(d,{htmlFor:"validationCustom04",children:"Rate"}),e.jsx(l,{name:"rate",type:"number",id:"validationCustom04",disabled:a,defaultValue:30,required:!0}),e.jsx(r,{invalid:!0,children:"Please provide a rate."}),e.jsx(r,{valid:!0,children:"Looks good!."})]}),e.jsx(t,{xs:12,children:e.jsx(S,{color:"primary",type:"submit",disabled:a,children:"Submit form"})})]})})})]})})};export{H as default};
